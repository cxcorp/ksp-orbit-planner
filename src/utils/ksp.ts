interface KspOrbit {
    SMA: number;
    ECC: number;
    INC: number;
    LPE: number;
    LAN: number;
    MNA: number;
    EPH: number;
    REF: number;
}

export const parseKspOrbit = (str: string): KspOrbit => {
    const lines = str
        .split("\n")
        .map((l) => l.trim())
        .filter((l) => Boolean(l));
    const kvps = lines
        .map((l) => l.split(" = ").map((v) => v.trim()))
        .map(([key, value]) => [key, Number(value)]);
    return Object.fromEntries(kvps) as KspOrbit;
};

export const TEST_KSP_ORBITS = `
SMA = 1220053.0927839347
ECC = 0.80322192186564012
INC = 0.011631632731494252
LPE = 359.7068938156151
LAN = 0.29290735359796827
MNA = 3.17120402339456
EPH = 214839.53148510429
REF = 2

SMA = 1220034.5540850614
ECC = 0.80324900824476086
INC = 0.0082880965633497106
LPE = 179.93528906032989
LAN = 270.06477723394534
MNA = 3.149097689447157
EPH = 214815.59148511683
REF = 2

SMA = 686833.5622708624
ECC = 0.0010421831172413294
INC = 0.71375388729872824
LPE = 85.269664309763982
LAN = 4.2921487081992495
MNA = 4.838036492284008
EPH = 181363.91121943778
REF = 2

SMA = 1219881.9121861826
ECC = 0.80347526577170947
INC = 0.024210994938160244
LPE = 180.01856109989689
LAN = 359.98139072209881
MNA = 3.1422635759313957
EPH = 214796.99148512658
REF = 2

SMA = 1221491.7632241594
ECC = 0.80109835507069049
INC = 44.714828309160076
LPE = 359.99840921926614
LAN = 1.2054454145982163E-07
MNA = 3.1430306710513771
EPH = 216295.52223704802
REF = 2

SMA = 1220347.7154408339
ECC = 0.80335603424082302
INC = 90.000918037721817
LPE = 7.697878989174253E-05
LAN = 270.00001120749528
MNA = 0.0040448214363244007
EPH = 231455.48982980422
REF = 2`;
